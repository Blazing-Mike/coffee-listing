---
import type CardProps from "../utils/models";
import Card from "./Card.astro";

const response = await fetch(
  "https://raw.githubusercontent.com/devchallenges-io/web-project-ideas/main/front-end-projects/data/simple-coffee-listing-data.json",
);
const coffeeCollection = await response.json();

const filteredData =  coffeeCollection.filter((item) => item.available == true)
---

<div
  class="rounded-xl bg-dark-grey w-9/12 p-10 mx-auto -mt-10 z-10 relative bg-star-fill bg-no-repeat bg-right-top"
>
  <h1 class="text-3xl text-center text-light-pink font-medium">
    Our Collection
  </h1>
  <p class="text-light-grey text-base text-center pt-2">
    Introducing our Coffee Collection, a selection of unique coffees from
    different roast types and origins, expertly roasted in small batches and
    shipped fresh weekly.
  </p>

  <div class="flex justify-center gap-4 mt-4">
    <button class="text-light-pink active:bg-light-grey text-sm"
      >All Products</button
    >
    <button class="text-light-pink active:bg-light-grey text-sm"
      >Available Now</button
    >
  </div>

  <div class="my-10 flex flex-wrap justify-center gap-10 items-center">
    {
      coffeeCollection.map((item: CardProps) => (
        <div class="">
          <Card
            name={item.name}
            price={item.price}
            image={item.image}
            popular={item.popular}
            votes={item.votes}
            ratings={item.rating}
            available={item.available}
          />
        </div>
      ))
    }
  </div>
</div>
